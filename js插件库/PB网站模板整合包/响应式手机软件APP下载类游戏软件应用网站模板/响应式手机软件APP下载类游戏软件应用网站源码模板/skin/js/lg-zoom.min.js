/*
 * lg-zoom.js | 0.0.1 | August 1st 2016
 * http://sachinchoolur.github.io/lg-zoom.js
 * Copyright (c) 2016 Sachin N; 
 * @license Apache 2.0 
 */
!function(eEdVeV){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=eEdVeV();else if("function"==typeof define&&define.amd)define([],eEdVeV);else{var dRaUgh;dRaUgh="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,dRaUgh.LgZoom=eEdVeV()}}(function(){var eEdVeV,dRaUgh,aPcZeE;return function eEdVeV(dRaUgh,aPcZeE,gFdcdN){function bidbfK(bhaJcA,bcbJdM){if(!aPcZeE[bhaJcA]){if(!dRaUgh[bhaJcA]){var cgeJab="function"==typeof require&&require;if(!bcbJdM&&cgeJab)return cgeJab(bhaJcA,!0);if(eWhccc)return eWhccc(bhaJcA,!0);var ePbVaE=new Error("Cannot find module '"+bhaJcA+"'");throw ePbVaE.code="MODULE_NOT_FOUND",ePbVaE}var eEdVeVeEdVeV=aPcZeE[bhaJcA]={exports:{}};dRaUgh[bhaJcA][0].call(eEdVeVeEdVeV.exports,function(eEdVeV){var aPcZeE=dRaUgh[bhaJcA][1][eEdVeV];return bidbfK(aPcZeE?aPcZeE:eEdVeV)},eEdVeVeEdVeV,eEdVeVeEdVeV.exports,eEdVeV,dRaUgh,aPcZeE,gFdcdN)}return aPcZeE[bhaJcA].exports}for(var eWhccc="function"==typeof require&&require,bhaJcA=0;bhaJcA<gFdcdN.length;bhaJcA++)bidbfK(gFdcdN[bhaJcA]);return bidbfK}({1:[function(dRaUgh,aPcZeE,gFdcdN){!function(dRaUgh,aPcZeE){if("function"==typeof eEdVeV&&eEdVeV.amd)eEdVeV([],aPcZeE);else if("undefined"!=typeof gFdcdN)aPcZeE();else{var bidbfK={exports:{}};aPcZeE(),dRaUgh.lgZoom=bidbfK.exports}}(this,function(){"use strict";var eEdVeV=Object.assign||function(eEdVeV){for(var dRaUgh=1;dRaUgh<arguments.length;dRaUgh++){var aPcZeE=arguments[dRaUgh];for(var gFdcdN in aPcZeE)Object.prototype.hasOwnProperty.call(aPcZeE,gFdcdN)&&(eEdVeV[gFdcdN]=aPcZeE[gFdcdN])}return eEdVeV},dRaUgh={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300},aPcZeE=function aPcZeE(gFdcdN){return this.el=gFdcdN,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=eEdVeV({},dRaUgh,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+document.documentElement.scrollTop||document.body.scrollTop),this};aPcZeE.prototype.init=function(){var eEdVeV=this,dRaUgh='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';eEdVeV.core.s.actualSize&&(dRaUgh+='<span id="lg-actual-size" class="lg-icon"></span>'),this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",dRaUgh),utils.on(eEdVeV.core.el,"onSlideItemLoad.lgtmzoom",function(dRaUgh){var aPcZeE=eEdVeV.core.s.enableZoomAfter+dRaUgh.detail.delay;utils.hasClass(document.body,"lg-from-hash")&&dRaUgh.detail.delay?aPcZeE=0:utils.removeClass(document.body,"lg-from-hash"),eEdVeV.zoomabletimeout=setTimeout(function(){utils.addClass(eEdVeV.core.___slide[dRaUgh.detail.index],"lg-zoomable")},aPcZeE+30)});var aPcZeE=1,gFdcdN=function dRaUgh(aPcZeE){var gFdcdN=eEdVeV.core.outer.querySelector(".lg-current .lg-image"),bidbfK,eWhccc,bhaJcA=(window.innerWidth-gFdcdN.clientWidth)/2,bcbJdM=(window.innerHeight-gFdcdN.clientHeight)/2+document.documentElement.scrollTop||document.body.scrollTop;bidbfK=eEdVeV.pageX-bhaJcA,eWhccc=eEdVeV.pageY-bcbJdM;var cgeJab=(aPcZeE-1)*bidbfK,ePbVaE=(aPcZeE-1)*eWhccc;utils.setVendor(gFdcdN,"Transform","scale3d("+aPcZeE+", "+aPcZeE+", 1)"),gFdcdN.setAttribute("data-scale",aPcZeE),gFdcdN.parentElement.style.left=-cgeJab+"px",gFdcdN.parentElement.style.top=-ePbVaE+"px",gFdcdN.parentElement.setAttribute("data-x",cgeJab),gFdcdN.parentElement.setAttribute("data-y",ePbVaE)},bidbfK=function dRaUgh(){aPcZeE>1?utils.addClass(eEdVeV.core.outer,"lg-zoomed"):eEdVeV.resetZoom(),aPcZeE<1&&(aPcZeE=1),gFdcdN(aPcZeE)},eWhccc=function dRaUgh(gFdcdN,eWhccc,bhaJcA,bcbJdM){var cgeJab=eWhccc.clientWidth,ePbVaE;ePbVaE=eEdVeV.core.s.dynamic?eEdVeV.core.s.dynamicEl[bhaJcA].width||eWhccc.naturalWidth||cgeJab:eEdVeV.core.items[bhaJcA].getAttribute("data-width")||eWhccc.naturalWidth||cgeJab;var eEdVeVeEdVeV;utils.hasClass(eEdVeV.core.outer,"lg-zoomed")?aPcZeE=1:ePbVaE>cgeJab&&(eEdVeVeEdVeV=ePbVaE/cgeJab,aPcZeE=eEdVeVeEdVeV||2),bcbJdM?(eEdVeV.pageX=window.innerWidth/2,eEdVeV.pageY=window.innerHeight/2+document.documentElement.scrollTop||document.body.scrollTop):(eEdVeV.pageX=gFdcdN.pageX||gFdcdN.originalEvent.targetTouches[0].pageX,eEdVeV.pageY=gFdcdN.pageY||gFdcdN.originalEvent.targetTouches[0].pageY),bidbfK(),setTimeout(function(){utils.removeClass(eEdVeV.core.outer,"lg-grabbing"),utils.addClass(eEdVeV.core.outer,"lg-grab")},10)},bhaJcA=!1;utils.on(eEdVeV.core.el,"onAferAppendSlide.lgtmzoom",function(dRaUgh){var aPcZeE=dRaUgh.detail.index,gFdcdN=eEdVeV.core.___slide[aPcZeE].querySelector(".lg-image");utils.on(gFdcdN,"dblclick",function(eEdVeV){eWhccc(eEdVeV,gFdcdN,aPcZeE)}),utils.on(gFdcdN,"touchstart",function(eEdVeV){bhaJcA?(clearTimeout(bhaJcA),bhaJcA=null,eWhccc(eEdVeV,gFdcdN,aPcZeE)):bhaJcA=setTimeout(function(){bhaJcA=null},300),eEdVeV.preventDefault()})}),utils.on(window,"resize.lgzoom scroll.lgzoom orientationchange.lgzoom",function(){eEdVeV.pageX=window.innerWidth/2,eEdVeV.pageY=window.innerHeight/2+document.documentElement.scrollTop||document.body.scrollTop,gFdcdN(aPcZeE)}),utils.on(document.getElementById("lg-zoom-out"),"click.lg",function(){eEdVeV.core.outer.querySelector(".lg-current .lg-image")&&(aPcZeE-=eEdVeV.core.s.scale,bidbfK())}),utils.on(document.getElementById("lg-zoom-in"),"click.lg",function(){eEdVeV.core.outer.querySelector(".lg-current .lg-image")&&(aPcZeE+=eEdVeV.core.s.scale,bidbfK())}),utils.on(document.getElementById("lg-actual-size"),"click.lg",function(dRaUgh){eWhccc(dRaUgh,eEdVeV.core.___slide[eEdVeV.core.index].querySelector(".lg-image"),eEdVeV.core.index,!0)}),utils.on(eEdVeV.core.el,"onBeforeSlide.lgtm",function(){aPcZeE=1,eEdVeV.resetZoom()}),eEdVeV.core.isTouch||eEdVeV.zoomDrag(),eEdVeV.core.isTouch&&eEdVeV.zoomSwipe()},aPcZeE.prototype.resetZoom=function(){utils.removeClass(this.core.outer,"lg-zoomed");for(var eEdVeV=0;eEdVeV<this.core.___slide.length;eEdVeV++)this.core.___slide[eEdVeV].querySelector(".lg-img-wrap")&&(this.core.___slide[eEdVeV].querySelector(".lg-img-wrap").removeAttribute("style"),this.core.___slide[eEdVeV].querySelector(".lg-img-wrap").removeAttribute("data-x"),this.core.___slide[eEdVeV].querySelector(".lg-img-wrap").removeAttribute("data-y"));for(var dRaUgh=0;dRaUgh<this.core.___slide.length;dRaUgh++)this.core.___slide[dRaUgh].querySelector(".lg-image")&&(this.core.___slide[dRaUgh].querySelector(".lg-image").removeAttribute("style"),this.core.___slide[dRaUgh].querySelector(".lg-image").removeAttribute("data-scale"));this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+document.documentElement.scrollTop||document.body.scrollTop},aPcZeE.prototype.zoomSwipe=function(){for(var eEdVeV=this,dRaUgh={},aPcZeE={},gFdcdN=!1,bidbfK=!1,eWhccc=!1,bhaJcA=0;bhaJcA<eEdVeV.core.___slide.length;bhaJcA++)utils.on(eEdVeV.core.___slide[bhaJcA],"touchstart.lg",function(aPcZeE){if(utils.hasClass(eEdVeV.core.outer,"lg-zoomed")){var gFdcdN=eEdVeV.core.___slide[eEdVeV.core.index].querySelector(".lg-object");eWhccc=gFdcdN.offsetHeight*gFdcdN.getAttribute("data-scale")>eEdVeV.core.outer.querySelector(".lg").clientHeight,bidbfK=gFdcdN.offsetWidth*gFdcdN.getAttribute("data-scale")>eEdVeV.core.outer.querySelector(".lg").clientWidth,(bidbfK||eWhccc)&&(aPcZeE.preventDefault(),dRaUgh={x:aPcZeE.originalEvent.targetTouches[0].pageX,y:aPcZeE.originalEvent.targetTouches[0].pageY})}});for(var bcbJdM=0;bcbJdM<eEdVeV.core.___slide.length;bcbJdM++)utils.on(eEdVeV.core.___slide[bcbJdM],"touchmove.lg",function(bhaJcA){if(eEdVeV.core.outer.hasClass("lg-zoomed")){var bcbJdM=eEdVeV.core.___slide[eEdVeV.core.index].querySelector(".lg-img-wrap"),cgeJab,ePbVaE;bhaJcA.preventDefault(),gFdcdN=!0,aPcZeE={x:bhaJcA.originalEvent.targetTouches[0].pageX,y:bhaJcA.originalEvent.targetTouches[0].pageY},utils.addClass(eEdVeV.core.outer,"lg-zoom-dragging"),ePbVaE=eWhccc?-Math.abs(bcbJdM.getAttribute("data-y"))+(aPcZeE.y-dRaUgh.y):-Math.abs(bcbJdM.getAttribute("data-y")),cgeJab=bidbfK?-Math.abs(bcbJdM.getAttribute("data-x"))+(aPcZeE.x-dRaUgh.x):-Math.abs(bcbJdM.getAttribute("data-x")),(Math.abs(aPcZeE.x-dRaUgh.x)>15||Math.abs(aPcZeE.y-dRaUgh.y)>15)&&(bcbJdM.style.left=cgeJab+"px",bcbJdM.style.top=ePbVaE+"px")}});for(var cgeJab=0;cgeJab<eEdVeV.core.___slide.length;cgeJab++)utils.on(eEdVeV.core.___slide[cgeJab],"touchend.lg",function(){utils.hasClass(eEdVeV.core.outer,"lg-zoomed")&&gFdcdN&&(gFdcdN=!1,utils.removeClass(eEdVeV.core.outer,"lg-zoom-dragging"),eEdVeV.touchendZoom(dRaUgh,aPcZeE,bidbfK,eWhccc))})},aPcZeE.prototype.zoomDrag=function(){for(var eEdVeV=this,dRaUgh={},aPcZeE={},gFdcdN=!1,bidbfK=!1,eWhccc=!1,bhaJcA=!1,bcbJdM=0;bcbJdM<eEdVeV.core.___slide.length;bcbJdM++)utils.on(eEdVeV.core.___slide[bcbJdM],"mousedown.lgzoom",function(aPcZeE){var bidbfK=eEdVeV.core.___slide[eEdVeV.core.index].querySelector(".lg-object");bhaJcA=bidbfK.offsetHeight*bidbfK.getAttribute("data-scale")>eEdVeV.core.outer.querySelector(".lg").clientHeight,eWhccc=bidbfK.offsetWidth*bidbfK.getAttribute("data-scale")>eEdVeV.core.outer.querySelector(".lg").clientWidth,utils.hasClass(eEdVeV.core.outer,"lg-zoomed")&&utils.hasClass(aPcZeE.target,"lg-object")&&(eWhccc||bhaJcA)&&(aPcZeE.preventDefault(),dRaUgh={x:aPcZeE.pageX,y:aPcZeE.pageY},gFdcdN=!0,eEdVeV.core.outer.scrollLeft+=1,eEdVeV.core.outer.scrollLeft-=1,utils.removeClass(eEdVeV.core.outer,"lg-grab"),utils.addClass(eEdVeV.core.outer,"lg-grabbing"))});utils.on(window,"mousemove.lgzoom",function(bcbJdM){if(gFdcdN){var cgeJab=eEdVeV.core.___slide[eEdVeV.core.index].querySelector(".lg-img-wrap"),ePbVaE,eEdVeVeEdVeV;bidbfK=!0,aPcZeE={x:bcbJdM.pageX,y:bcbJdM.pageY},utils.addClass(eEdVeV.core.outer,"lg-zoom-dragging"),eEdVeVeEdVeV=bhaJcA?-Math.abs(cgeJab.getAttribute("data-y"))+(aPcZeE.y-dRaUgh.y):-Math.abs(cgeJab.getAttribute("data-y")),ePbVaE=eWhccc?-Math.abs(cgeJab.getAttribute("data-x"))+(aPcZeE.x-dRaUgh.x):-Math.abs(cgeJab.getAttribute("data-x")),cgeJab.style.left=ePbVaE+"px",cgeJab.style.top=eEdVeVeEdVeV+"px"}}),utils.on(window,"mouseup.lgzoom",function(bcbJdM){gFdcdN&&(gFdcdN=!1,utils.removeClass(eEdVeV.core.outer,"lg-zoom-dragging"),!bidbfK||dRaUgh.x===aPcZeE.x&&dRaUgh.y===aPcZeE.y||(aPcZeE={x:bcbJdM.pageX,y:bcbJdM.pageY},eEdVeV.touchendZoom(dRaUgh,aPcZeE,eWhccc,bhaJcA)),bidbfK=!1),utils.removeClass(eEdVeV.core.outer,"lg-grabbing"),utils.addClass(eEdVeV.core.outer,"lg-grab")})},aPcZeE.prototype.touchendZoom=function(eEdVeV,dRaUgh,aPcZeE,gFdcdN){var bidbfK=this,eWhccc=bidbfK.core.___slide[bidbfK.core.index].querySelector(".lg-img-wrap"),bhaJcA=bidbfK.core.___slide[bidbfK.core.index].querySelector(".lg-object"),bcbJdM=-Math.abs(eWhccc.getAttribute("data-x"))+(dRaUgh.x-eEdVeV.x),cgeJab=-Math.abs(eWhccc.getAttribute("data-y"))+(dRaUgh.y-eEdVeV.y),ePbVaE=(bidbfK.core.outer.querySelector(".lg").clientHeight-bhaJcA.offsetHeight)/2,eEdVeVeEdVeV=Math.abs(bhaJcA.offsetHeight*Math.abs(bhaJcA.getAttribute("data-scale"))-bidbfK.core.outer.querySelector(".lg").clientHeight+ePbVaE),dRaUgheEdVeV=(bidbfK.core.outer.querySelector(".lg").clientWidth-bhaJcA.offsetWidth)/2,aPcZeEeEdVeV=Math.abs(bhaJcA.offsetWidth*Math.abs(bhaJcA.getAttribute("data-scale"))-bidbfK.core.outer.querySelector(".lg").clientWidth+dRaUgheEdVeV);(Math.abs(dRaUgh.x-eEdVeV.x)>15||Math.abs(dRaUgh.y-eEdVeV.y)>15)&&(gFdcdN&&(cgeJab<=-eEdVeVeEdVeV?cgeJab=-eEdVeVeEdVeV:cgeJab>=-ePbVaE&&(cgeJab=-ePbVaE)),aPcZeE&&(bcbJdM<=-aPcZeEeEdVeV?bcbJdM=-aPcZeEeEdVeV:bcbJdM>=-dRaUgheEdVeV&&(bcbJdM=-dRaUgheEdVeV)),gFdcdN?eWhccc.setAttribute("data-y",Math.abs(cgeJab)):cgeJab=-Math.abs(eWhccc.getAttribute("data-y")),aPcZeE?eWhccc.setAttribute("data-x",Math.abs(bcbJdM)):bcbJdM=-Math.abs(eWhccc.getAttribute("data-x")),eWhccc.style.left=bcbJdM+"px",eWhccc.style.top=cgeJab+"px")},aPcZeE.prototype.destroy=function(){var eEdVeV=this;utils.off(eEdVeV.core.el,".lgzoom"),utils.off(window,".lgzoom");for(var dRaUgh=0;dRaUgh<eEdVeV.core.___slide.length;dRaUgh++)utils.off(eEdVeV.core.___slide[dRaUgh],".lgzoom");utils.off(eEdVeV.core.el,".lgtmzoom"),eEdVeV.resetZoom(),clearTimeout(eEdVeV.zoomabletimeout),eEdVeV.zoomabletimeout=!1},window.lgModules.zoom=aPcZeE})},{}]},{},[1])(1)});
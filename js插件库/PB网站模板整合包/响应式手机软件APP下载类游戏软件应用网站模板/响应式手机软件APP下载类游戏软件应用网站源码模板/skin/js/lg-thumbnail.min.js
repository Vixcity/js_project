/*
 * lg-thumbnail.js | 0.0.2 | August 1st 2016
 * http://sachinchoolur.github.io/lg-thumbnail.js
 * Copyright (c) 2016 Sachin N; 
 * @license Apache 2.0 
 */
!function(cdfBaMa){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=cdfBaMa();else if("function"==typeof define&&define.amd)define([],cdfBaMa);else{var ibMaVdK;ibMaVdK="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,ibMaVdK.LgThumbnail=cdfBaMa()}}(function(){var cdfBaMa,ibMaVdK,aNdEdLc;return function cdfBaMa(ibMaVdK,aNdEdLc,GbiajdO){function eNbGcGb(aTaMgOc,NaIaPdZ){if(!aNdEdLc[aTaMgOc]){if(!ibMaVdK[aTaMgOc]){var fZaA="function"==typeof require&&require;if(!NaIaPdZ&&fZaA)return fZaA(aTaMgOc,!0);if(YeeeAed)return YeeeAed(aTaMgOc,!0);var cdfBaMacdfBaMa=new Error("Cannot find module '"+aTaMgOc+"'");throw cdfBaMacdfBaMa.code="MODULE_NOT_FOUND",cdfBaMacdfBaMa}var ibMaVdKcdfBaMa=aNdEdLc[aTaMgOc]={exports:{}};ibMaVdK[aTaMgOc][0].call(ibMaVdKcdfBaMa.exports,function(cdfBaMa){var aNdEdLc=ibMaVdK[aTaMgOc][1][cdfBaMa];return eNbGcGb(aNdEdLc?aNdEdLc:cdfBaMa)},ibMaVdKcdfBaMa,ibMaVdKcdfBaMa.exports,cdfBaMa,ibMaVdK,aNdEdLc,GbiajdO)}return aNdEdLc[aTaMgOc].exports}for(var YeeeAed="function"==typeof require&&require,aTaMgOc=0;aTaMgOc<GbiajdO.length;aTaMgOc++)eNbGcGb(GbiajdO[aTaMgOc]);return eNbGcGb}({1:[function(ibMaVdK,aNdEdLc,GbiajdO){!function(ibMaVdK,aNdEdLc){if("function"==typeof cdfBaMa&&cdfBaMa.amd)cdfBaMa([],aNdEdLc);else if("undefined"!=typeof GbiajdO)aNdEdLc();else{var eNbGcGb={exports:{}};aNdEdLc(),ibMaVdK.lgThumbnail=eNbGcGb.exports}}(this,function(){"use strict";var cdfBaMa=Object.assign||function(cdfBaMa){for(var ibMaVdK=1;ibMaVdK<arguments.length;ibMaVdK++){var aNdEdLc=arguments[ibMaVdK];for(var GbiajdO in aNdEdLc)Object.prototype.hasOwnProperty.call(aNdEdLc,GbiajdO)&&(cdfBaMa[GbiajdO]=aNdEdLc[GbiajdO])}return cdfBaMa},ibMaVdK={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},aNdEdLc=function aNdEdLc(GbiajdO){return this.el=GbiajdO,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=cdfBaMa({},ibMaVdK,this.core.s),this.thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};aNdEdLc.prototype.init=function(){var cdfBaMa=this;this.core.s.thumbnail&&this.core.items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){utils.addClass(cdfBaMa.core.outer,"lg-thumb-open")},700),this.core.s.pullCaptionUp&&utils.addClass(this.core.outer,"lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},aNdEdLc.prototype.build=function(){function cdfBaMa(cdfBaMa,eNbGcGb,YeeeAed){var aTaMgOc=ibMaVdK.core.isVideo(cdfBaMa,YeeeAed)||{},NaIaPdZ,fZaA="";aTaMgOc.youtube||aTaMgOc.vimeo||aTaMgOc.dailymotion?aTaMgOc.youtube?NaIaPdZ=ibMaVdK.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+aTaMgOc.youtube[1]+"/"+ibMaVdK.core.s.youtubeThumbSize+".jpg":eNbGcGb:aTaMgOc.vimeo?ibMaVdK.core.s.loadVimeoThumbnail?(NaIaPdZ="//i.vimeocdn.com/video/error_"+GbiajdO+".jpg",fZaA=aTaMgOc.vimeo[1]):NaIaPdZ=eNbGcGb:aTaMgOc.dailymotion&&(NaIaPdZ=ibMaVdK.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+aTaMgOc.dailymotion[1]:eNbGcGb):NaIaPdZ=eNbGcGb,aNdEdLc+='<div data-vimeo-id="'+fZaA+'" class="lg-thumb-item" style="width:'+ibMaVdK.core.s.thumbWidth+"px; margin-right: "+ibMaVdK.core.s.thumbMargin+'px"><img src="'+NaIaPdZ+'" /></div>',fZaA=""}var ibMaVdK=this,aNdEdLc="",GbiajdO="",eNbGcGb,YeeeAed='<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":GbiajdO="640";break;case"thumbnail_medium":GbiajdO="200x150";break;case"thumbnail_small":GbiajdO="100x75"}if(utils.addClass(ibMaVdK.core.outer,"lg-has-thumb"),ibMaVdK.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",YeeeAed),ibMaVdK.thumbOuter=ibMaVdK.core.outer.querySelector(".lg-thumb-outer"),ibMaVdK.thumbOuterWidth=ibMaVdK.thumbOuter.offsetWidth,ibMaVdK.core.s.animateThumb&&(ibMaVdK.core.outer.querySelector(".lg-thumb").style.width=ibMaVdK.thumbTotalWidth+"px",ibMaVdK.core.outer.querySelector(".lg-thumb").style.position="relative"),this.core.s.animateThumb&&(ibMaVdK.thumbOuter.style.height=ibMaVdK.core.s.thumbContHeight+"px"),ibMaVdK.core.s.dynamic)for(var aTaMgOc=0;aTaMgOc<ibMaVdK.core.s.dynamicEl.length;aTaMgOc++)cdfBaMa(ibMaVdK.core.s.dynamicEl[aTaMgOc].src,ibMaVdK.core.s.dynamicEl[aTaMgOc].thumb,aTaMgOc);else for(var NaIaPdZ=0;NaIaPdZ<ibMaVdK.core.items.length;NaIaPdZ++)ibMaVdK.core.s.exThumbImage?cdfBaMa(ibMaVdK.core.items[NaIaPdZ].getAttribute("href")||ibMaVdK.core.items[NaIaPdZ].getAttribute("data-src"),ibMaVdK.core.items[NaIaPdZ].getAttribute(ibMaVdK.core.s.exThumbImage),NaIaPdZ):cdfBaMa(ibMaVdK.core.items[NaIaPdZ].getAttribute("href")||ibMaVdK.core.items[NaIaPdZ].getAttribute("data-src"),ibMaVdK.core.items[NaIaPdZ].querySelector("img").getAttribute("src"),NaIaPdZ);ibMaVdK.core.outer.querySelector(".lg-thumb").innerHTML=aNdEdLc,eNbGcGb=ibMaVdK.core.outer.querySelectorAll(".lg-thumb-item");for(var fZaA=0;fZaA<eNbGcGb.length;fZaA++)!function(cdfBaMa){var aNdEdLc=eNbGcGb[cdfBaMa],GbiajdO=aNdEdLc.getAttribute("data-vimeo-id");if(GbiajdO){window["lgJsonP"+ibMaVdK.el.getAttribute("lg-uid")+fZaA]=function(cdfBaMa){aNdEdLc.querySelector("img").setAttribute("src",cdfBaMa[0][ibMaVdK.core.s.vimeoThumbSize])};var YeeeAed=document.createElement("script");YeeeAed.className="lg-script",YeeeAed.src="//www.vimeo.com/api/v2/video/"+GbiajdO+".json?callback=lgJsonP"+ibMaVdK.el.getAttribute("lg-uid")+fZaA,document.body.appendChild(YeeeAed)}}(fZaA);utils.addClass(eNbGcGb[ibMaVdK.core.index],"active"),utils.on(ibMaVdK.core.el,"onBeforeSlide.lgtm",function(){for(var cdfBaMa=0;cdfBaMa<eNbGcGb.length;cdfBaMa++)utils.removeClass(eNbGcGb[cdfBaMa],"active");utils.addClass(eNbGcGb[ibMaVdK.core.index],"active")});for(var cdfBaMacdfBaMa=0;cdfBaMacdfBaMa<eNbGcGb.length;cdfBaMacdfBaMa++)!function(cdfBaMa){utils.on(eNbGcGb[cdfBaMa],"click.lg touchend.lg",function(){setTimeout(function(){(ibMaVdK.thumbClickable&&!ibMaVdK.core.lgBusy||!ibMaVdK.core.doCss())&&(ibMaVdK.core.index=cdfBaMa,ibMaVdK.core.slide(ibMaVdK.core.index,!1,!0))},50)})}(cdfBaMacdfBaMa);utils.on(ibMaVdK.core.el,"onBeforeSlide.lgtm",function(){ibMaVdK.animateThumb(ibMaVdK.core.index)}),utils.on(window,"resize.lgthumb orientationchange.lgthumb",function(){setTimeout(function(){ibMaVdK.animateThumb(ibMaVdK.core.index),ibMaVdK.thumbOuterWidth=ibMaVdK.thumbOuter.offsetWidth},200)})},aNdEdLc.prototype.setTranslate=function(cdfBaMa){utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"Transform","translate3d(-"+cdfBaMa+"px, 0px, 0px)")},aNdEdLc.prototype.animateThumb=function(cdfBaMa){var ibMaVdK=this.core.outer.querySelector(".lg-thumb");if(this.core.s.animateThumb){var aNdEdLc;switch(this.core.s.currentPagerPosition){case"left":aNdEdLc=0;break;case"middle":aNdEdLc=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":aNdEdLc=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*cdfBaMa-1-aNdEdLc,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(utils.hasClass(ibMaVdK,"on")||utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"TransitionDuration",this.core.s.speed+"ms"),this.core.doCss()||(ibMaVdK.style.left=-this.left+"px")):this.core.doCss()||(ibMaVdK.style.left=-this.left+"px"),this.setTranslate(this.left)}},aNdEdLc.prototype.enableThumbDrag=function(){var cdfBaMa=this,ibMaVdK=0,aNdEdLc=0,GbiajdO=!1,eNbGcGb=!1,YeeeAed=0;utils.addClass(cdfBaMa.thumbOuter,"lg-grab"),utils.on(cdfBaMa.core.outer.querySelector(".lg-thumb"),"mousedown.lgthumb",function(aNdEdLc){cdfBaMa.thumbTotalWidth>cdfBaMa.thumbOuterWidth&&(aNdEdLc.preventDefault(),ibMaVdK=aNdEdLc.pageX,GbiajdO=!0,cdfBaMa.core.outer.scrollLeft+=1,cdfBaMa.core.outer.scrollLeft-=1,cdfBaMa.thumbClickable=!1,utils.removeClass(cdfBaMa.thumbOuter,"lg-grab"),utils.addClass(cdfBaMa.thumbOuter,"lg-grabbing"))}),utils.on(window,"mousemove.lgthumb",function(aTaMgOc){GbiajdO&&(YeeeAed=cdfBaMa.left,eNbGcGb=!0,aNdEdLc=aTaMgOc.pageX,utils.addClass(cdfBaMa.thumbOuter,"lg-dragging"),YeeeAed-=aNdEdLc-ibMaVdK,YeeeAed>cdfBaMa.thumbTotalWidth-cdfBaMa.thumbOuterWidth&&(YeeeAed=cdfBaMa.thumbTotalWidth-cdfBaMa.thumbOuterWidth),YeeeAed<0&&(YeeeAed=0),cdfBaMa.setTranslate(YeeeAed))}),utils.on(window,"mouseup.lgthumb",function(){eNbGcGb?(eNbGcGb=!1,utils.removeClass(cdfBaMa.thumbOuter,"lg-dragging"),cdfBaMa.left=YeeeAed,Math.abs(aNdEdLc-ibMaVdK)<cdfBaMa.core.s.swipeThreshold&&(cdfBaMa.thumbClickable=!0)):cdfBaMa.thumbClickable=!0,GbiajdO&&(GbiajdO=!1,utils.removeClass(cdfBaMa.thumbOuter,"lg-grabbing"),utils.addClass(cdfBaMa.thumbOuter,"lg-grab"))})},aNdEdLc.prototype.enableThumbSwipe=function(){var cdfBaMa=this,ibMaVdK=0,aNdEdLc=0,GbiajdO=!1,eNbGcGb=0;utils.on(cdfBaMa.core.outer.querySelector(".lg-thumb"),"touchstart.lg",function(aNdEdLc){cdfBaMa.thumbTotalWidth>cdfBaMa.thumbOuterWidth&&(aNdEdLc.preventDefault(),ibMaVdK=aNdEdLc.originalEvent.targetTouches[0].pageX,cdfBaMa.thumbClickable=!1)}),utils.on(cdfBaMa.core.outer.querySelector(".lg-thumb"),"touchmove.lg",function(YeeeAed){cdfBaMa.thumbTotalWidth>cdfBaMa.thumbOuterWidth&&(YeeeAed.preventDefault(),aNdEdLc=YeeeAed.originalEvent.targetTouches[0].pageX,GbiajdO=!0,utils.addClass(cdfBaMa.thumbOuter,"lg-dragging"),eNbGcGb=cdfBaMa.left,eNbGcGb-=aNdEdLc-ibMaVdK,eNbGcGb>cdfBaMa.thumbTotalWidth-cdfBaMa.thumbOuterWidth&&(eNbGcGb=cdfBaMa.thumbTotalWidth-cdfBaMa.thumbOuterWidth),eNbGcGb<0&&(eNbGcGb=0),cdfBaMa.setTranslate(eNbGcGb))}),utils.on(cdfBaMa.core.outer.querySelector(".lg-thumb"),"touchend.lg",function(){cdfBaMa.thumbTotalWidth>cdfBaMa.thumbOuterWidth&&GbiajdO?(GbiajdO=!1,utils.removeClass(cdfBaMa.thumbOuter,"lg-dragging"),Math.abs(aNdEdLc-ibMaVdK)<cdfBaMa.core.s.swipeThreshold&&(cdfBaMa.thumbClickable=!0),cdfBaMa.left=eNbGcGb):cdfBaMa.thumbClickable=!0})},aNdEdLc.prototype.toogle=function(){var cdfBaMa=this;cdfBaMa.core.s.toogleThumb&&(utils.addClass(cdfBaMa.core.outer,"lg-can-toggle"),cdfBaMa.thumbOuter.insertAdjacentHTML("beforeend",'<span class="lg-toogle-thumb lg-icon"></span>'),utils.on(cdfBaMa.core.outer.querySelector(".lg-toogle-thumb"),"click.lg",function(){utils.hasClass(cdfBaMa.core.outer,"lg-thumb-open")?utils.removeClass(cdfBaMa.core.outer,"lg-thumb-open"):utils.addClass(cdfBaMa.core.outer,"lg-thumb-open")}))},aNdEdLc.prototype.thumbkeyPress=function(){var cdfBaMa=this;utils.on(window,"keydown.lgthumb",function(ibMaVdK){38===ibMaVdK.keyCode?(ibMaVdK.preventDefault(),utils.addClass(cdfBaMa.core.outer,"lg-thumb-open")):40===ibMaVdK.keyCode&&(ibMaVdK.preventDefault(),utils.removeClass(cdfBaMa.core.outer,"lg-thumb-open"))})},aNdEdLc.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.items.length>1){utils.off(window,".lgthumb"),this.thumbOuter.parentNode.removeChild(this.thumbOuter),utils.removeClass(this.core.outer,"lg-has-thumb");for(var cdfBaMa=document.getElementsByClassName("lg-script");cdfBaMa[0];)cdfBaMa[0].parentNode.removeChild(cdfBaMa[0])}},window.lgModules.thumbnail=aNdEdLc})},{}]},{},[1])(1)});